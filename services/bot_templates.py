"""–®–∞–±–ª–æ–Ω—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è AdminBot.

–§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–µ –ø—Ä–µ—Å–µ—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ë–î.
"""

from __future__ import annotations

from typing import Any, Dict, List


# –û–ø–∏—Å–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤: –∫–æ–¥, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ –∏ JSON —Å —É–∑–ª–∞–º–∏/—Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏
STARTER_TEMPLATES: List[Dict[str, Any]] = [
    {
        "code": "tpl_welcome_menu",
        "title": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –º–µ–Ω—é",
        "description": "–°—Ç–∞—Ä—Ç /start ‚Üí MAIN_MENU —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞.",
        "template_json": {
            "description": "–ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –æ—Å–Ω–æ–≤–Ω—ã–º –º–µ–Ω—é –∏ —Å–±–æ—Ä–æ–º –≤–æ–ø—Ä–æ—Å–∞",
            "nodes": [
                {
                    "code": "WELCOME_START",
                    "title": "–°—Ç–∞—Ä—Ç–æ–≤–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ",
                    "message_text": (
                        "<b>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</b> –ú—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –º–µ–Ω—é, —á—Ç–æ–±—ã –≤—ã –±—ã—Å—Ç—Ä–æ –Ω–∞—à–ª–∏ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª.\n"
                        "–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –Ω–∏–∂–µ, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é."
                    ),
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "MAIN_MENU",
                    "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                    "message_text": (
                        "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª: —É–∑–Ω–∞—Ç—å –æ –ø—Ä–æ–µ–∫—Ç–µ, –ø–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É –∏–ª–∏ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å."
                    ),
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:ABOUT_INFO",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "üìé –°—Å—ã–ª–∫–∏",
                            "type": "callback",
                            "payload": "OPEN_NODE:LINKS",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚úâÔ∏è –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å",
                            "type": "callback",
                            "payload": "OPEN_NODE:ASK_MESSAGE",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "ABOUT_INFO",
                    "title": "–û–ø–∏—Å–∞–Ω–∏–µ",
                    "message_text": "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –∫–æ—Ä–æ—Ç–∫–æ, —á–µ–º –ø–æ–ª–µ–∑–µ–Ω –≤–∞—à –ø—Ä–æ–µ–∫—Ç. –¢–µ–∫—Å—Ç –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "‚¨ÖÔ∏è –ù–∞–∑–∞–¥",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "LINKS",
                    "title": "–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–∞–π—Ç, –∫–∞—Ç–∞–ª–æ–≥ –∏–ª–∏ —Å–æ—Ü—Å–µ—Ç–∏.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "üåê –°–∞–π—Ç",
                            "type": "url",
                            "payload": "https://example.com",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚¨ÖÔ∏è –í –º–µ–Ω—é",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "ASK_MESSAGE",
                    "title": "–ü–æ–ª—É—á–∏—Ç—å –≤–æ–ø—Ä–æ—Å",
                    "message_text": "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –ø–æ–∂–µ–ª–∞–Ω–∏–µ. –ú—ã –æ—Ç–≤–µ—Ç–∏–º –ª–∏—á–Ω–æ.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "TEXT",
                    "input_var_key": "question",
                    "input_required": True,
                    "input_min_len": 3,
                    "input_error_text": "–û–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å, —á—Ç–æ–±—ã –º—ã –º–æ–≥–ª–∏ –ø–æ–º–æ—á—å.",
                    "next_node_code_success": "THANKS",
                    "next_node_code_cancel": "MAIN_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "THANKS",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à –≤–æ–ø—Ä–æ—Å –∏ –≤–µ—Ä–Ω—ë–º—Å—è —Å –æ—Ç–≤–µ—Ç–æ–º.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {
                                "text": "–ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ –∏–∑ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞: {{question}}",
                            },
                            "sort_order": 0,
                            "is_enabled": True,
                        },
                        {
                            "action_type": "SEND_MESSAGE",
                            "payload": {"text": "–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ, —Å–∫–æ—Ä–æ –æ—Ç–≤–µ—Ç–∏–º."},
                            "sort_order": 1,
                            "is_enabled": True,
                        },
                    ],
                    "next_node_code": "MAIN_MENU",
                },
            ],
            "triggers": [
                {
                    "trigger_type": "COMMAND",
                    "trigger_value": "start",
                    "match_mode": "EXACT",
                    "target_node_code": "WELCOME_START",
                    "priority": 1,
                    "is_enabled": True,
                },
                {
                    "trigger_type": "TEXT",
                    "trigger_value": "–º–µ–Ω—é",
                    "match_mode": "CONTAINS",
                    "target_node_code": "MAIN_MENU",
                    "priority": 5,
                    "is_enabled": True,
                },
            ],
        },
    },
    {
        "code": "pack_profile",
        "title": "–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "description": "–ì–æ—Ç–æ–≤—ã–π –±–ª–æ–∫ –ø—Ä–æ—Ñ–∏–ª—è —Å –∑–∞–∫–∞–∑–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "PROFILE",
                    "slug": "profile",
                    "title": "–ü—Ä–æ—Ñ–∏–ª—å",
                    "message_text": (
                        "–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å: –∏–º—è, –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤. "
                        "–í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª."
                    ),
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ú–æ–∏ –∑–∞–∫–∞–∑—ã",
                            "slug": "profile-orders",
                            "type": "callback",
                            "payload": "OPEN_NODE:PROFILE_ORDERS",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                            "slug": "profile-settings",
                            "type": "callback",
                            "payload": "OPEN_NODE:PROFILE_SETTINGS",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "profile-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "PROFILE_ORDERS",
                    "slug": "profile-orders-node",
                    "title": "–ú–æ–∏ –∑–∞–∫–∞–∑—ã",
                    "message_text": "–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–∫–∞–∑—ã.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "profile-orders-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:PROFILE",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "PROFILE_SETTINGS",
                    "slug": "profile-settings-node",
                    "title": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è –∏–ª–∏ —Å—Å—ã–ª–∫—É –Ω–∞ WebApp.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "profile-settings-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:PROFILE",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
            ],
            "triggers": [],
            "presets": [],
            "automations": [],
        },
    },
    {
        "code": "pack_cart_orders",
        "title": "–ö–æ—Ä–∑–∏–Ω–∞ + –∑–∞–∫–∞–∑—ã",
        "description": "–ö–æ—Ä–∑–∏–Ω–∞, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "CART_VIEW",
                    "slug": "cart-view",
                    "title": "–ö–æ—Ä–∑–∏–Ω–∞",
                    "message_text": "–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞: –¥–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ –Ω–∞–∂–º–∏—Ç–µ ¬´–û—Ñ–æ—Ä–º–∏—Ç—å¬ª.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑",
                            "slug": "cart-checkout",
                            "type": "callback",
                            "payload": "OPEN_NODE:CART_CHECKOUT",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "cart-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "CART_CHECKOUT",
                    "slug": "cart-checkout-node",
                    "title": "–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞",
                    "message_text": "–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É, –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "TEXT",
                    "input_var_key": "order_comment",
                    "input_required": False,
                    "input_min_len": 0,
                    "next_node_code_success": "CART_THANKS",
                    "next_node_code_cancel": "CART_VIEW",
                    "is_enabled": True,
                },
                {
                    "code": "CART_THANKS",
                    "slug": "cart-thanks",
                    "title": "–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑",
                    "message_text": "–ó–∞–∫–∞–∑ –ø—Ä–∏–Ω—è—Ç! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–í –º–µ–Ω—é",
                            "slug": "cart-thanks-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
            ],
            "triggers": [],
            "presets": [
                {
                    "slug": "order-user-card",
                    "title": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –∑–∞–∫–∞–∑",
                    "scope": "user",
                    "buttons_json": [
                        {"title": "–°–≤—è–∑–∞—Ç—å—Å—è —Å –∞–¥–º–∏–Ω–æ–º", "type": "callback", "value": "trigger:contact_manager", "row": 0},
                        {"title": "–û—Ç–∫—Ä—ã—Ç—å –≤–∏—Ç—Ä–∏–Ω—É", "type": "url", "value": "{webapp_url}", "row": 1},
                    ],
                    "is_enabled": True,
                },
                {
                    "slug": "order-admin-card",
                    "title": "–ê–¥–º–∏–Ω: –∫–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–∫–∞–∑–∞",
                    "scope": "admin",
                    "buttons_json": [
                        {"title": "–ù–∞–ø–∏—Å–∞—Ç—å –∫–ª–∏–µ–Ω—Ç—É", "type": "callback", "value": "admin:order:client:{user_id}", "row": 0},
                        {"title": "–û—Ç–∫—Ä—ã—Ç—å –≤–∏—Ç—Ä–∏–Ω—É", "type": "url", "value": "{webapp_url}", "row": 1},
                    ],
                    "is_enabled": True,
                },
            ],
            "automations": [
                {
                    "slug": "webapp-order-flow",
                    "title": "WebApp –∑–∞–∫–∞–∑: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏ —É–≤–µ–¥–æ–º–∏—Ç—å",
                    "trigger_type": "WEBAPP_ORDER_RECEIVED",
                    "conditions_json": [{"type": "source", "value": "webapp"}],
                    "actions_json": [
                        {"type": "SAVE_ORDER"},
                        {"type": "ATTACH_BUTTONS", "target": "user", "preset_slug": "order-user-card"},
                        {
                            "type": "SEND_USER_MESSAGE",
                            "template": {
                                "title": "‚úÖ –ó–∞–∫–∞–∑ #{order_id} –ø—Ä–∏–Ω—è—Ç",
                                "body": "–ú—ã —É–∂–µ –ø–æ–ª—É—á–∏–ª–∏ –∑–∞–∫–∞–∑ –∏ —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è.",
                                "items_enabled": True,
                                "items_fields": ["title", "qty", "price", "sum"],
                                "items_title": "–°–æ—Å—Ç–∞–≤",
                            },
                        },
                        {"type": "ATTACH_BUTTONS", "target": "admin", "preset_slug": "order-admin-card"},
                        {
                            "type": "SEND_ADMIN_MESSAGE",
                            "template": {
                                "title": "üõí –ù–æ–≤—ã–π –∑–∞–∫–∞–∑ #{order_id}",
                                "body": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: {user_name} (id {user_id}, {phone})",
                                "items_enabled": True,
                                "items_fields": ["title", "qty", "price", "sum"],
                                "items_title": "–°–æ—Å—Ç–∞–≤",
                            },
                        },
                    ],
                    "is_enabled": True,
                }
            ],
        },
    },
    {
        "code": "pack_feedback",
        "title": "–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å",
        "description": "–£–∑–µ–ª –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –∞–¥–º–∏–Ω—É.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "FEEDBACK_MENU",
                    "slug": "feedback-menu",
                    "title": "–°–≤—è–∑–∞—Ç—å—Å—è",
                    "message_text": "–•–æ—Ç–∏—Ç–µ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å? –ù–∞–∂–º–∏—Ç–µ ¬´–ù–∞–ø–∏—Å–∞—Ç—å¬ª.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–ø–∏—Å–∞—Ç—å",
                            "slug": "feedback-write",
                            "type": "callback",
                            "payload": "OPEN_NODE:FEEDBACK_INPUT",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "feedback-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "FEEDBACK_INPUT",
                    "slug": "feedback-input",
                    "title": "–ù–∞–ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ",
                    "message_text": "–û–ø–∏—à–∏—Ç–µ –∑–∞–ø—Ä–æ—Å, –º—ã –æ—Ç–≤–µ—Ç–∏–º –ª–∏—á–Ω–æ.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "TEXT",
                    "input_var_key": "feedback_text",
                    "input_required": True,
                    "input_min_len": 3,
                    "input_error_text": "–°–æ–æ–±—â–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–ª–∏–Ω–Ω–µ–µ 3 —Å–∏–º–≤–æ–ª–æ–≤.",
                    "next_node_code_success": "FEEDBACK_THANKS",
                    "next_node_code_cancel": "FEEDBACK_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "FEEDBACK_THANKS",
                    "slug": "feedback-thanks",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã –ø–æ–ª—É—á–∏–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ —Å–∫–æ—Ä–æ –æ—Ç–≤–µ—Ç–∏–º.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ: {{feedback_text}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        }
                    ],
                    "next_node_code": "FEEDBACK_MENU",
                },
            ],
            "triggers": [],
            "presets": [],
            "automations": [],
        },
    },
    {
        "code": "pack_help",
        "title": "–ü–æ–º–æ—â—å",
        "description": "FAQ-—Ä–∞–∑–¥–µ–ª —Å –¥–æ—Å—Ç–∞–≤–∫–æ–π –∏ –æ–ø–ª–∞—Ç–æ–π.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "HELP_MENU",
                    "slug": "help-menu",
                    "title": "–ü–æ–º–æ—â—å",
                    "message_text": "–ß–µ–º –º–æ–∂–µ–º –ø–æ–º–æ—á—å?",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–î–æ—Å—Ç–∞–≤–∫–∞",
                            "slug": "help-delivery",
                            "type": "callback",
                            "payload": "OPEN_NODE:HELP_DELIVERY",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–û–ø–ª–∞—Ç–∞",
                            "slug": "help-payment",
                            "type": "callback",
                            "payload": "OPEN_NODE:HELP_PAYMENT",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "help-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "HELP_DELIVERY",
                    "slug": "help-delivery-node",
                    "title": "–î–æ—Å—Ç–∞–≤–∫–∞",
                    "message_text": "–û–ø–∏—à–∏—Ç–µ —É—Å–ª–æ–≤–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ —Å—Ä–æ–∫–∏.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "help-delivery-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:HELP_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "HELP_PAYMENT",
                    "slug": "help-payment-node",
                    "title": "–û–ø–ª–∞—Ç–∞",
                    "message_text": "–û–ø–∏—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –æ–ø–ª–∞—Ç—ã.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "help-payment-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:HELP_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
            ],
            "triggers": [],
            "presets": [],
            "automations": [],
        },
    },
    {
        "code": "pack_masterclasses",
        "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã",
        "description": "–°—Ç–∞—Ä—Ç–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "MASTERCLASS_MENU",
                    "slug": "masterclass-menu",
                    "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã",
                    "message_text": "–í—ã–±–µ—Ä–∏—Ç–µ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –∏–ª–∏ —É—Ç–æ—á–Ω–µ–Ω–∏—è.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ö—É–ø–∏—Ç—å",
                            "slug": "masterclass-buy",
                            "type": "callback",
                            "payload": "OPEN_NODE:MASTERCLASS_BUY",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ü–æ–¥—Ä–æ–±–Ω–µ–µ",
                            "slug": "masterclass-detail",
                            "type": "callback",
                            "payload": "OPEN_NODE:MASTERCLASS_DETAILS",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "masterclass-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "MASTERCLASS_BUY",
                    "slug": "masterclass-buy-node",
                    "title": "–ö—É–ø–∏—Ç—å –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å",
                    "message_text": "–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç –¥–ª—è –ø–æ–∫—É–ø–∫–∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "PHONE_TEXT",
                    "input_var_key": "masterclass_contact",
                    "input_required": True,
                    "input_min_len": 5,
                    "input_error_text": "–£–∫–∞–∂–∏—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ @username.",
                    "next_node_code_success": "MASTERCLASS_THANKS",
                    "next_node_code_cancel": "MASTERCLASS_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "MASTERCLASS_DETAILS",
                    "slug": "masterclass-details-node",
                    "title": "–ü–æ–¥—Ä–æ–±–Ω–µ–µ",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞—Ö.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "masterclass-details-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MASTERCLASS_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "MASTERCLASS_THANKS",
                    "slug": "masterclass-thanks",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è –ø–æ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—É.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–ó–∞–ø—Ä–æ—Å –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞: {{masterclass_contact}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        }
                    ],
                    "next_node_code": "MASTERCLASS_MENU",
                },
            ],
            "triggers": [],
            "presets": [],
            "automations": [],
        },
    },
    {
        "code": "pack_starter_shop",
        "title": "–°—Ç–∞—Ä—Ç–æ–≤—ã–π –±–æ—Ç-–º–∞–≥–∞–∑–∏–Ω (–º–∏–Ω–∏–º—É–º)",
        "description": "–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π: —Å—Ç–∞—Ä—Ç, –º–µ–Ω—é, –∫–∞—Ç–∞–ª–æ–≥, –∫–æ—Ä–∑–∏–Ω–∞ –∏ –ø—Ä–æ—Ñ–∏–ª—å.",
        "template_json": {
            "pack_type": "starter",
            "nodes": [
                {
                    "code": "WELCOME_START",
                    "slug": "starter-welcome",
                    "title": "–°—Ç–∞—Ä—Ç",
                    "message_text": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! –û—Ç–∫—Ä–æ–π—Ç–µ –º–µ–Ω—é, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                            "slug": "starter-open-menu",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "MAIN_MENU",
                    "slug": "starter-main-menu",
                    "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                    "message_text": "–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª –º–∞–≥–∞–∑–∏–Ω–∞.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ö–∞—Ç–∞–ª–æ–≥",
                            "slug": "starter-catalog",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_CATALOG",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ö–æ—Ä–∑–∏–Ω–∞",
                            "slug": "starter-cart",
                            "type": "callback",
                            "payload": "OPEN_NODE:CART_VIEW",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ü—Ä–æ—Ñ–∏–ª—å",
                            "slug": "starter-profile",
                            "type": "callback",
                            "payload": "OPEN_NODE:PROFILE",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
                            "slug": "starter-contacts",
                            "type": "callback",
                            "payload": "OPEN_NODE:FEEDBACK_MENU",
                            "row": 1,
                            "pos": 1,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "SHOP_CATALOG",
                    "slug": "starter-catalog-node",
                    "title": "–ö–∞—Ç–∞–ª–æ–≥",
                    "message_text": "–û–ø–∏—à–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç–µ WebApp-–≤–∏—Ç—Ä–∏–Ω—É.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "starter-catalog-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "CART_VIEW",
                    "slug": "starter-cart-node",
                    "title": "–ö–æ—Ä–∑–∏–Ω–∞",
                    "message_text": "–ö–æ—Ä–∑–∏–Ω–∞ –ø–æ–∫–∞ –ø—É—Å—Ç–∞—è. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å —Å—é–¥–∞.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "starter-cart-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "PROFILE",
                    "slug": "starter-profile-node",
                    "title": "–ü—Ä–æ—Ñ–∏–ª—å",
                    "message_text": "–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –î–æ–±–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "starter-profile-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "FEEDBACK_MENU",
                    "slug": "starter-contacts-node",
                    "title": "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ –∑–¥–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏–ª–∏ –∫–Ω–æ–ø–∫—É ¬´–ù–∞–ø–∏—Å–∞—Ç—å¬ª.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ù–∞–∑–∞–¥",
                            "slug": "starter-contacts-back",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
            ],
            "triggers": [
                {
                    "trigger_type": "COMMAND",
                    "trigger_value": "start",
                    "match_mode": "EXACT",
                    "target_node_code": "WELCOME_START",
                    "priority": 1,
                    "is_enabled": True,
                }
            ],
            "presets": [],
            "automations": [],
        },
    },
    {
        "code": "tpl_subscription_gate",
        "title": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ + –º–µ–Ω—é",
        "description": "–î–æ—Å—Ç—É–ø –∫ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª.",
        "template_json": {
            "description": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ —Å –ø–µ—Ä–µ—Ö–æ–¥–æ–º –≤ –º–µ–Ω—é –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞",
            "nodes": [
                {
                    "code": "SUBSCRIPTION_CHECK",
                    "title": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏",
                    "message_text": (
                        "–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª, –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É¬ª."
                    ),
                    "parse_mode": "HTML",
                    "node_type": "CONDITION",
                    "cond_var_key": None,
                    "cond_operator": None,
                    "next_node_code_true": "MAIN_MENU",
                    "next_node_code_false": "SUBSCRIPTION_CHECK",
                    "is_enabled": True,
                    "config_json": {
                        "condition_type": "CHECK_SUBSCRIPTION",
                        "condition_payload": {
                            "channels": ["https://t.me/your_channel"],
                            "on_success_node": "MAIN_MENU",
                            "on_fail_node": "SUBSCRIPTION_CHECK",
                            "fail_message": "–ù—É–∂–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è, —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é.",
                            "subscribe_url": "https://t.me/your_channel",
                            "check_button_text": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É",
                            "subscribe_button_text": "–ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è",
                        },
                    },
                    "buttons": [],
                },
                {
                    "code": "MAIN_MENU",
                    "title": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
                    "message_text": "–í—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–¥–ø–∏—Å–∞–ª–∏—Å—å! –í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "üì¢ –ù–æ–≤–æ—Å—Ç–∏",
                            "type": "url",
                            "payload": "https://t.me/your_channel",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚ÑπÔ∏è –û –ø—Ä–æ–µ–∫—Ç–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:ABOUT",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚úâÔ∏è –ù–∞–ø–∏—Å–∞—Ç—å",
                            "type": "callback",
                            "payload": "OPEN_NODE:CONTACT",
                            "row": 1,
                            "pos": 1,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "ABOUT",
                    "title": "–û–ø–∏—Å–∞–Ω–∏–µ",
                    "message_text": "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏. –¢–µ–∫—Å—Ç –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "‚¨ÖÔ∏è –ú–µ–Ω—é",
                            "type": "callback",
                            "payload": "OPEN_NODE:MAIN_MENU",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "CONTACT",
                    "title": "–ù–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É",
                    "message_text": "–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à –≤–æ–ø—Ä–æ—Å, –º—ã –æ—Ç–≤–µ—Ç–∏–º –≤ –ª–∏—á–∫—É.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "TEXT",
                    "input_var_key": "question",
                    "input_required": True,
                    "input_min_len": 4,
                    "input_error_text": "–ù–∞–ø–∏—à–∏—Ç–µ –ø–∞—Ä—É —Å–ª–æ–≤, —á—Ç–æ–±—ã –º—ã –ø–æ–º–æ–≥–ª–∏.",
                    "next_node_code_success": "CONTACT_THANKS",
                    "next_node_code_cancel": "MAIN_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "CONTACT_THANKS",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã –ø–æ–ª—É—á–∏–ª–∏ –æ–±—Ä–∞—â–µ–Ω–∏–µ.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–°–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–¥–ø–∏—Å–∫–∏: {{question}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        }
                    ],
                    "next_node_code": "MAIN_MENU",
                },
            ],
            "triggers": [
                {
                    "trigger_type": "COMMAND",
                    "trigger_value": "start",
                    "match_mode": "EXACT",
                    "target_node_code": "SUBSCRIPTION_CHECK",
                    "priority": 1,
                    "is_enabled": True,
                },
                {
                    "trigger_type": "TEXT",
                    "trigger_value": "–º–µ–Ω—é",
                    "match_mode": "CONTAINS",
                    "target_node_code": "SUBSCRIPTION_CHECK",
                    "priority": 10,
                    "is_enabled": True,
                },
            ],
        },
    },
    {
        "code": "tpl_support_simple",
        "title": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ (–ø—Ä–æ—Å—Ç–æ)",
        "description": "–ö–Ω–æ–ø–∫–∞ '–ù–∞–ø–∏—Å–∞—Ç—å' ‚Üí —Å–±–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è ‚Üí —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω—É.",
        "template_json": {
            "description": "–ú–∏–Ω–∏-—Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—â–µ–Ω–∏—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É",
            "nodes": [
                {
                    "code": "SUPPORT_START",
                    "title": "–ü–æ–¥–¥–µ—Ä–∂–∫–∞",
                    "message_text": "–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –ø—Ä–æ–±–ª–µ–º–µ: –º—ã –æ—Ç–≤–µ—Ç–∏–º –≤ —Ä–∞–±–æ—á–µ–µ –≤—Ä–µ–º—è.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "üìù –ù–∞–ø–∏—Å–∞—Ç—å",
                            "type": "callback",
                            "payload": "OPEN_NODE:SUPPORT_INPUT",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        }
                    ],
                },
                {
                    "code": "SUPPORT_INPUT",
                    "title": "–ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç",
                    "message_text": "–û–ø–∏—à–∏—Ç–µ –≤–æ–ø—Ä–æ—Å –∏–ª–∏ –∑–∞–ø—Ä–æ—Å.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "TEXT",
                    "input_var_key": "support_text",
                    "input_required": True,
                    "input_min_len": 5,
                    "input_error_text": "–ù—É–∂–Ω–æ —Ö–æ—Ç—è –±—ã –ø–∞—Ä—É —Å–ª–æ–≤, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å.",
                    "next_node_code_success": "SUPPORT_THANKS",
                    "next_node_code_cancel": "SUPPORT_START",
                    "is_enabled": True,
                },
                {
                    "code": "SUPPORT_THANKS",
                    "title": "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –°–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–æ –∫–æ–º–∞–Ω–¥–µ.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–ù–æ–≤–æ–µ –æ–±—Ä–∞—â–µ–Ω–∏–µ: {{support_text}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        },
                        {
                            "action_type": "SEND_MESSAGE",
                            "payload": {"text": "–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤–∞—à –∑–∞–ø—Ä–æ—Å –∏ —Å–∫–æ—Ä–æ –æ—Ç–≤–µ—Ç–∏–º."},
                            "sort_order": 1,
                            "is_enabled": True,
                        },
                    ],
                    "next_node_code": "SUPPORT_START",
                },
            ],
            "triggers": [
                {
                    "trigger_type": "TEXT",
                    "trigger_value": "–ø–æ–¥–¥–µ—Ä–∂–∫–∞",
                    "match_mode": "CONTAINS",
                    "target_node_code": "SUPPORT_START",
                    "priority": 5,
                    "is_enabled": True,
                }
            ],
        },
    },
    {
        "code": "tpl_shop_minimal",
        "title": "–ú–∞–≥–∞–∑–∏–Ω (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)",
        "description": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –∫–∞—Ä—Ç–æ—á–∫–∞ ‚Üí '–ü–æ–ª—É—á–∏—Ç—å' (—Å—Å—ã–ª–∫–∞/—á–∞—Ç)",
        "template_json": {
            "description": "–ú–∏–Ω–∏-–≤–∏—Ç—Ä–∏–Ω–∞ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Å—Å—ã–ª–∫–æ–π –Ω–∞ –ø–æ–∫—É–ø–∫—É",
            "nodes": [
                {
                    "code": "SHOP_MENU",
                    "title": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
                    "message_text": "–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–æ–≤–∞—Ä—ã.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "üéÅ –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_FEATURED",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "üõç –í—Å–µ —Ç–æ–≤–∞—Ä—ã",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_CARD",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "SHOP_FEATURED",
                    "title": "–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–ø–æ–≤–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ü–æ–ª—É—á–∏—Ç—å",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_CONTACT",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚¨ÖÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "SHOP_CARD",
                    "title": "–ö–∞—Ä—Ç–æ—á–∫–∞",
                    "message_text": "–ö—Ä–∞—Ç–∫–æ –æ–ø–∏—à–∏—Ç–µ —Ç–æ–≤–∞—Ä –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ –∫–Ω–æ–ø–∫—É '–ü–æ–ª—É—á–∏—Ç—å'.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å–∞–π—Ç",
                            "type": "url",
                            "payload": "https://example.com/buy",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ü–æ–ª—É—á–∏—Ç—å –≤ —á–∞—Ç–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_CONTACT",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚¨ÖÔ∏è –ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
                            "type": "callback",
                            "payload": "OPEN_NODE:SHOP_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "SHOP_CONTACT",
                    "title": "–ö–æ–Ω—Ç–∞–∫—Ç",
                    "message_text": "–û—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ @username –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "PHONE_TEXT",
                    "input_var_key": "shop_contact",
                    "input_required": True,
                    "input_min_len": 5,
                    "input_error_text": "–ù—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ –Ω–∏–∫, —á—Ç–æ–±—ã –æ—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑.",
                    "next_node_code_success": "SHOP_THANKS",
                    "next_node_code_cancel": "SHOP_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "SHOP_THANKS",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–ó–∞—è–≤–∫–∞ –∏–∑ –º–∞–≥–∞–∑–∏–Ω–∞: {{shop_contact}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        },
                        {
                            "action_type": "SEND_MESSAGE",
                            "payload": {"text": "–ú—ã –ø–æ–ª—É—á–∏–ª–∏ –∑–∞–ø—Ä–æ—Å –∏ –Ω–∞–ø–∏—à–µ–º –≤–∞–º."},
                            "sort_order": 1,
                            "is_enabled": True,
                        },
                    ],
                    "next_node_code": "SHOP_MENU",
                },
            ],
            "triggers": [
                {
                    "trigger_type": "COMMAND",
                    "trigger_value": "shop",
                    "match_mode": "EXACT",
                    "target_node_code": "SHOP_MENU",
                    "priority": 5,
                    "is_enabled": True,
                }
            ],
        },
    },
    {
        "code": "tpl_courses_minimal",
        "title": "–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã (–º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π)",
        "description": "–ü–ª–∞—Ç–Ω—ã–µ/–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ ‚Üí '–ü–æ–ª—É—á–∏—Ç—å'",
        "template_json": {
            "description": "–í–∏—Ç—Ä–∏–Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤ —Å –≤—ã–±–æ—Ä–æ–º –∏ –≤—ã–¥–∞—á–µ–π —Å—Å—ã–ª–∫–∏",
            "nodes": [
                {
                    "code": "COURSES_MENU",
                    "title": "–ö–∞—Ç–µ–≥–æ—Ä–∏–∏",
                    "message_text": "–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "üí≥ –ü–ª–∞—Ç–Ω—ã–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:COURSES_PAID",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "üéÅ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ",
                            "type": "callback",
                            "payload": "OPEN_NODE:COURSES_FREE",
                            "row": 0,
                            "pos": 1,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "COURSES_PAID",
                    "title": "–ü–ª–∞—Ç–Ω—ã–µ",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ —Å–ø–∏—Å–æ–∫ –ø–ª–∞—Ç–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–æ–≤ –∏ —Å—Å—ã–ª–∫—É –Ω–∞ –æ–ø–ª–∞—Ç—É.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–û–ø–ª–∞—Ç–∏—Ç—å",
                            "type": "url",
                            "payload": "https://example.com/pay",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é",
                            "type": "callback",
                            "payload": "OPEN_NODE:COURSES_CONTACT",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚¨ÖÔ∏è –ù–∞–∑–∞–¥",
                            "type": "callback",
                            "payload": "OPEN_NODE:COURSES_MENU",
                            "row": 2,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "COURSES_FREE",
                    "title": "–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ",
                    "message_text": "–î–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –Ω–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª –∏–ª–∏ —É—Ä–æ–∫.",
                    "parse_mode": "HTML",
                    "node_type": "MESSAGE",
                    "is_enabled": True,
                    "buttons": [
                        {
                            "title": "–ü–æ–ª—É—á–∏—Ç—å",
                            "type": "url",
                            "payload": "https://example.com/free",
                            "row": 0,
                            "pos": 0,
                            "is_enabled": True,
                        },
                        {
                            "title": "‚¨ÖÔ∏è –ù–∞–∑–∞–¥",
                            "type": "callback",
                            "payload": "OPEN_NODE:COURSES_MENU",
                            "row": 1,
                            "pos": 0,
                            "is_enabled": True,
                        },
                    ],
                },
                {
                    "code": "COURSES_CONTACT",
                    "title": "–ö–æ–Ω—Ç–∞–∫—Ç",
                    "message_text": "–û—Å—Ç–∞–≤—å—Ç–µ –∫–æ–Ω—Ç–∞–∫—Ç, —á—Ç–æ–±—ã –æ–±—Å—É–¥–∏—Ç—å –¥–µ—Ç–∞–ª–∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å–∞.",
                    "parse_mode": "HTML",
                    "node_type": "INPUT",
                    "input_type": "PHONE_TEXT",
                    "input_var_key": "course_contact",
                    "input_required": True,
                    "input_min_len": 5,
                    "input_error_text": "–ù—É–∂–µ–Ω —Ç–µ–ª–µ—Ñ–æ–Ω –∏–ª–∏ @username.",
                    "next_node_code_success": "COURSES_THANKS",
                    "next_node_code_cancel": "COURSES_MENU",
                    "is_enabled": True,
                },
                {
                    "code": "COURSES_THANKS",
                    "title": "–°–ø–∞—Å–∏–±–æ",
                    "message_text": "–°–ø–∞—Å–∏–±–æ! –ú—ã —Å–≤—è–∂–µ–º—Å—è, —á—Ç–æ–±—ã —Ä–∞—Å—Å–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏.",
                    "parse_mode": "HTML",
                    "node_type": "ACTION",
                    "is_enabled": True,
                    "actions": [
                        {
                            "action_type": "SEND_ADMIN_MESSAGE",
                            "payload": {"text": "–ó–∞–ø—Ä–æ—Å –Ω–∞ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å: {{course_contact}}"},
                            "sort_order": 0,
                            "is_enabled": True,
                        }
                    ],
                    "next_node_code": "COURSES_MENU",
                },
            ],
            "triggers": [
                {
                    "trigger_type": "COMMAND",
                    "trigger_value": "course",
                    "match_mode": "EXACT",
                    "target_node_code": "COURSES_MENU",
                    "priority": 5,
                    "is_enabled": True,
                }
            ],
        },
    },
]
