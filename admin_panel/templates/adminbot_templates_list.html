<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Шаблоны сценариев</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 16px; background: #f5f5f5; }
        header { display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap; }
        a.button, button { padding: 6px 10px; background: #2563eb; color: #fff; text-decoration: none; border: none; border-radius: 4px; cursor: pointer; }
        .muted { color: #475569; font-size: 14px; }
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 12px; }
        .card { background: #fff; border: 1px solid #e2e8f0; border-radius: 8px; padding: 14px; box-shadow: 0 2px 4px rgba(0,0,0,0.04); display: flex; flex-direction: column; gap: 10px; }
        .card h3 { margin: 0 0 4px 0; }
        .card small { color: #6b7280; }
        .actions { display: flex; justify-content: space-between; align-items: center; gap: 8px; }
    </style>
</head>
<body>
<header>
    <a href="/adminbot" class="button">Главная</a>
    <a href="/adminbot/templates" class="button" style="background:#0ea5e9;">Шаблоны</a>
    <a href="/adminbot/nodes" class="button">Узлы</a>
    <a href="/adminbot/triggers" class="button">Триггеры</a>
    <a href="/adminbot/automations" class="button">Автоматизации</a>
    <a href="/adminbot/media" class="button">Медиа</a>
    <a href="/adminbot/runtime" class="button">Работа бота</a>
    <a href="/adminbot/logs" class="button">Логи</a>
    <a href="/adminbot/logout" class="button" style="background:#dc2626;">Выйти</a>
</header>
<h2>Шаблоны сценариев</h2>
<p class="muted">Выберите шаблон, чтобы за минуту получить готовый сценарий. Применение создаёт копию узлов и триггеров, ваши данные не затираются.</p>
<div class="grid">
    {% for template in templates %}
    <div class="card">
        <div>
            <h3>{{ template.title }}</h3>
            <div class="muted">Код: {{ template.code }}</div>
            {% if template.description %}<p>{{ template.description }}</p>{% endif %}
            <small>Добавлен: {{ template.created_at }}</small>
        </div>
        <div class="actions">
            <div class="muted">Готовый набор узлов и триггеров</div>
            <a href="/adminbot/templates/{{ template.code }}" class="button">Применить</a>
        </div>
    </div>
    {% else %}
    <div class="card">
        <h3>Нет доступных шаблонов</h3>
        <p class="muted">Добавьте записи в таблицу bot_templates, чтобы показать варианты.</p>
    </div>
    {% endfor %}
</div>
</body>
</html>
