{% extends "base_adminsite.html" %}
{% block title %}–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏—Ç—Ä–∏–Ω—ã ‚Äî AdminSite{% endblock %}
{% block head_extra %}
    <link rel="stylesheet" href="{{ url_for('static', path='adminsite/constructor.css') }}">
{% endblock %}
{% block content %}
<div id="constructor-status-bar"></div>
<div class="page-actions">
    <div>
        <h1>–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –≤–∏—Ç—Ä–∏–Ω—ã</h1>
        <p class="muted">–£–ø—Ä–∞–≤–ª—è–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, —Ç–æ–≤–∞—Ä–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å–∞–π—Ç–∞. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —Å—Ä–∞–∑—É.</p>
    </div>
    <div class="info-box">
        <div class="badge-list">
            <span class="tag">üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</span>
            <span class="tag">üõç –¢–æ–≤–∞—Ä—ã</span>
            <span class="tag">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
        </div>
        <p style="margin:10px 0 0; font-size:13px;">üí° –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—É–±–ª–∏–∫—É—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.</p>
    </div>
</div>

<div id="global-status" class="status"></div>

<div class="tabs adminsite-tabs" role="tablist" aria-label="–†–∞–∑–¥–µ–ª—ã –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞">
    <button class="tab active" type="button" data-panel="panel-menu">
        <span>üìã</span> –ú–µ–Ω—é –≤–∏—Ç—Ä–∏–Ω—ã
    </button>
    <button class="tab" type="button" data-panel="panel-settings">
        <span>‚öôÔ∏è</span> –ù–∞—Å—Ç—Ä–æ–π–∫–∏
    </button>
    <button class="tab" type="button" data-panel="panel-media">
        <span>üñºÔ∏è</span> –ú–µ–¥–∏–∞
    </button>
</div>

<section class="panel active" id="panel-menu">
    <div class="card">
        <div class="table-top">
            <div>
                <h3 style="margin:0;">üì¶ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ —Ç–æ–≤–∞—Ä—ã</h3>
                <p class="muted">–°–æ–∑–¥–∞–≤–∞–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –¥–æ–±–∞–≤–ª—è–π—Ç–µ —Ç–æ–≤–∞—Ä—ã. –í—Å—ë –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É –Ω–∞ —Å–∞–π—Ç–µ –∏ –≤ –±–æ—Ç–µ.</p>
            </div>
            <div class="actions">
                <button class="btn-secondary" type="button" id="menu-refresh" title="–û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
            </div>
        </div>
        <div class="status" id="status-menu"></div>
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap:16px;">
            <div class="card" style="margin:0;">
                <div class="card-header" style="align-items:center;">
                    <div>
                        <h4 style="margin:0;">üìÅ –ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h4>
                        <p class="muted" style="margin:4px 0 0; font-size:13px;">–ì—Ä—É–ø–ø—ã —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —É–¥–æ–±–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏</p>
                    </div>
                    <button class="btn-primary" type="button" id="category-add">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <div id="category-form" class="card" style="margin:0 0 12px; display:none;"></div>
                <div id="category-list" class="block-list"></div>
            </div>
            <div class="card" style="margin:0;">
                <div class="card-header" style="align-items:center;">
                    <div>
                        <h4 style="margin:0;">üõç –¢–æ–≤–∞—Ä—ã</h4>
                        <p class="muted" style="margin:4px 0 0; font-size:13px;" id="items-caption">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç–æ–≤–∞—Ä—ã</p>
                    </div>
                    <button class="btn-primary" type="button" id="item-add" disabled title="–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é">+ –î–æ–±–∞–≤–∏—Ç—å</button>
                </div>
                <div id="item-form" class="card" style="margin:0 0 12px; display:none;"></div>
                <div id="item-list" class="block-list"></div>
            </div>
        </div>
    </div>
</section>

<section class="panel" id="panel-settings">
    <div class="card">
        <div class="table-top">
            <div>
                <h3 style="margin:0;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞</h3>
                <p class="muted">–ë—Ä–µ–Ω–¥, —Ü–≤–µ—Ç–∞, –∫–æ–Ω—Ç–∞–∫—Ç—ã –∏ –≥–ª–∞–≤–Ω—ã–π –±–ª–æ–∫ (hero) –¥–ª—è –≤–∏—Ç—Ä–∏–Ω—ã.</p>
            </div>
            <div class="actions">
                <button class="btn-secondary" type="button" id="settings-preview">üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</button>
                <button class="btn-primary" type="button" id="settings-save">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>
        <div class="status" id="status-settings"></div>
        <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap:16px;">
            <div class="card" style="margin:0; background:#0b1220;">
                <h4 style="margin:0 0 12px; font-size:16px;">üè∑Ô∏è –ë—Ä–µ–Ω–¥</h4>
                <label class="field">
                    <span>–ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞</span>
                    <input type="text" id="settings-brand" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: MiniDeN" />
                </label>
                <label class="field">
                    <span>–õ–æ–≥–æ—Ç–∏–ø (URL)</span>
                    <input type="text" id="settings-logo" placeholder="/media/adminsite/logo.png" />
                    <small class="muted" style="display:block; margin-top:4px;">üí° –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–µ–¥–∏–∞"</small>
                </label>
            </div>
            <div class="card" style="margin:0; background:#0b1220;">
                <h4 style="margin:0 0 12px; font-size:16px;">üé® –¶–≤–µ—Ç–∞</h4>
                <label class="field">
                    <span>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç</span>
                    <input type="text" id="settings-primary" placeholder="#a855f7" />
                    <small class="muted" style="display:block; margin-top:4px;">HEX —Ñ–æ—Ä–º–∞—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä: #a855f7</small>
                </label>
                <label class="field">
                    <span>–í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç</span>
                    <input type="text" id="settings-secondary" placeholder="#334155" />
                </label>
                <label class="field">
                    <span>–§–æ–Ω</span>
                    <input type="text" id="settings-background" placeholder="#0b1220 –∏–ª–∏ linear-gradient(...)" />
                </label>
            </div>
            <div class="card" style="margin:0; background:#0b1220;">
                <h4 style="margin:0 0 12px; font-size:16px;">üåü –ì–ª–∞–≤–Ω—ã–π –±–ª–æ–∫ (Hero)</h4>
                <label class="field">
                    <span>–ó–∞–≥–æ–ª–æ–≤–æ–∫</span>
                    <input type="text" id="settings-hero-title" placeholder="–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫" />
                </label>
                <label class="field">
                    <span>–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫</span>
                    <textarea id="settings-hero-subtitle" rows="3" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞"></textarea>
                </label>
                <label class="field">
                    <span>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (URL)</span>
                    <input type="text" id="settings-hero-image" placeholder="/media/adminsite/hero.jpg" />
                </label>
            </div>
            <div class="card" style="margin:0; background:#0b1220;">
                <h4 style="margin:0 0 12px; font-size:16px;">üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
                <label class="field">
                    <span>–ö–æ–Ω—Ç–∞–∫—Ç—ã (JSON)</span>
                    <textarea id="settings-contacts" rows="4" placeholder='{"phone": "+7 999 123-45-67", "email": "hello@example.com"}'></textarea>
                    <small class="muted" style="display:block; margin-top:4px;">üí° –§–æ—Ä–º–∞—Ç JSON: {"phone": "...", "email": "..."}</small>
                </label>
                <label class="field">
                    <span>–°–æ—Ü—Å–µ—Ç–∏ (JSON)</span>
                    <textarea id="settings-social" rows="4" placeholder='{"instagram": "https://instagram.com/...", "telegram": "https://t.me/..."}'></textarea>
                </label>
            </div>
        </div>
    </div>
</section>

<section class="panel" id="panel-media">
    <div class="card">
        <div class="table-top">
            <div>
                <h3 style="margin:0;">üñºÔ∏è –ú–µ–¥–∏–∞-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞</h3>
                <p class="muted">–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫. –§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ /media/adminsite/</p>
            </div>
            <div class="badge-list">
                <span class="tag">üì§ –ó–∞–≥—Ä—É–∑–∫–∞</span>
                <span class="tag">üëÅÔ∏è –ü—Ä–æ—Å–º–æ—Ç—Ä</span>
                <span class="tag">üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å URL</span>
            </div>
        </div>
        <div class="status" id="status-media"></div>
        <div class="media-grid">
            <div class="card upload-card">
                <h4 style="margin-top:0;">üì§ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h4>
                <p class="muted" style="margin-top:4px; margin-bottom:16px;">–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Ñ–æ—Ä–º–∞—Ç—ã: JPG, PNG, WebP<br>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä: 5 –ú–ë</p>
                <label class="file-input">
                    <span style="display:block; margin-bottom:8px; font-weight:600;">–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª</span>
                    <input type="file" id="media-upload-input" accept="image/jpeg,image/png,image/webp" />
                </label>
                <div class="actions" style="margin-top:16px;">
                    <button class="btn-primary" type="button" id="media-upload-btn">‚¨ÜÔ∏è –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                    <button class="btn-secondary" type="button" id="media-refresh">üîÑ –û–±–Ω–æ–≤–∏—Ç—å</button>
                </div>
                <div class="status" id="media-upload-status"></div>
            </div>
            <div class="card list-card">
                <div class="card-header" style="gap:12px; margin-bottom:12px;">
                    <h4 style="margin:0;">üìÅ –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã</h4>
                    <input type="search" id="media-search" placeholder="üîç –ü–æ–∏—Å–∫ –ø–æ –∏–º–µ–Ω–∏..." style="max-width:250px;" />
                </div>
                <div id="media-list" class="media-list"></div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block scripts %}
    <script type="module" src="{{ url_for('static', path='adminsite/constructor.js') }}"></script>
{% endblock %}
