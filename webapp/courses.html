<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MiniDeN ‚Äî –ö—É—Ä—Å—ã</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="icon" id="site-favicon" href="/favicon.ico" />
  <link rel="stylesheet" href="css/theme.css?v=20251218" />
  <style>
    :root {
      color-scheme: light;
      --bg: var(--color-bg);
      --card: var(--surface-primary);
      --text: var(--color-text-main);
      --muted: var(--color-text-muted);
      --accent: var(--color-accent-primary);
      --accent-2: var(--color-accent-secondary);
      --shadow: var(--shadow-strong);
      --nav: var(--nav-surface);
      --border: var(--color-border-subtle);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 0 18px 32px;
    }

    .top-nav { position: sticky; top: 0; z-index: 20; background: var(--nav); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 14px 12px; margin: 0 -18px 16px; gap: 12px; }
    .brand { display: flex; flex-direction: column; gap: 2px; font-weight: 800; letter-spacing: -0.02em; }
    .brand span { color: var(--muted); font-size: 13px; font-weight: 600; letter-spacing: normal; }
    .nav-links { display: flex; gap: 12px; align-items: center; }
    .nav-links a { color: var(--muted); text-decoration: none; font-weight: 600; padding: 10px 12px; border-radius: 12px; transition: background 0.15s ease, color 0.15s ease; }
    .nav-links a:hover { color: var(--text); background: rgba(255, 255, 255, 0.06); }
    .nav-links a.active { color: var(--text); background: linear-gradient(135deg, rgba(255, 184, 0, 0.18), rgba(123, 216, 255, 0.14)); }
    .menu-toggle { display: none; background: transparent; border: 1px solid rgba(255, 255, 255, 0.12); color: var(--text); border-radius: 12px; padding: 10px 12px; cursor: pointer; }

    header.page-header { display: flex; align-items: center; justify-content: space-between; gap: 14px; margin-bottom: 12px; }

    .title { font-size: 22px; font-weight: 700; letter-spacing: -0.02em; display: flex; align-items: center; gap: 10px; }

    .badge { padding: 8px 12px; border-radius: 12px; background: linear-gradient(135deg, rgba(123, 216, 255, 0.25), rgba(123, 216, 255, 0.08)); color: #c1e9ff; font-weight: 700; font-size: 14px; }

    .subtitle { margin: 0; color: var(--muted); font-size: 14px; line-height: 1.5; }

    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; margin-top: 12px; }

    .card { background: var(--card); border: 1px solid rgba(255, 255, 255, 0.06); border-radius: 16px; padding: 14px; box-shadow: var(--shadow); display: flex; flex-direction: column; gap: 12px; backdrop-filter: blur(6px); }

    .cover { position: relative; overflow: hidden; border-radius: 12px; height: 160px; background: linear-gradient(135deg, rgba(123, 216, 255, 0.22), rgba(255, 184, 0, 0.12)); display: grid; place-items: center; }

    .cover img { width: 100%; height: 100%; object-fit: cover; filter: saturate(1.05); }

    .status { position: absolute; top: 10px; left: 10px; background: rgba(0, 0, 0, 0.55); color: #fff; font-weight: 700; padding: 6px 10px; border-radius: 10px; letter-spacing: 0.01em; font-size: 13px; }

    h3 { margin: 0; font-size: 18px; letter-spacing: -0.01em; }

    .meta { display: flex; align-items: center; gap: 8px; font-size: 13px; color: var(--muted); }

    .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent); opacity: 0.8; }

    .description { color: var(--muted); font-size: 14px; line-height: 1.5; margin: 0; flex: 1; }

    .footer { display: flex; align-items: center; justify-content: space-between; gap: 10px; }

    .price { font-size: 17px; font-weight: 700; color: #c1e9ff; }

    button { cursor: pointer; border: none; border-radius: 12px; padding: 12px 14px; background: linear-gradient(135deg, #7bd8ff, #4dc3ff); color: #0b0d12; font-weight: 700; font-size: 15px; width: 100%; box-shadow: 0 10px 30px rgba(123, 216, 255, 0.25); transition: transform 0.1s ease, box-shadow 0.1s ease; }

    button:hover { transform: translateY(-1px); box-shadow: 0 12px 32px rgba(123, 216, 255, 0.35); }

    .tags { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 14px; }

    .tag { padding: 8px 12px; border-radius: 999px; background: rgba(255, 255, 255, 0.06); color: var(--muted); font-size: 13px; border: 1px solid rgba(255, 255, 255, 0.08); }

    @media (max-width: 780px) {
      .nav-links { display: none; }
      .nav-links.open { display: flex; flex-direction: column; align-items: flex-start; width: 100%; margin-top: 10px; }
      .top-nav { flex-wrap: wrap; }
      .menu-toggle { display: inline-flex; }
    }
  </style>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body data-theme="lifestyle">
  <div class="top-nav">
    <div class="brand" data-branding-block>
      <div class="brand__logo-wrapper">
        <img data-branding-logo class="brand__logo" alt="–õ–æ–≥–æ—Ç–∏–ø MiniDeN" />
      </div>
      <div class="brand__text">
        <div class="brand__title" data-branding-title data-branding-default="MiniDeN">MiniDeN</div>
        <span data-branding-tagline>—É—é—Ç–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω–∫–∏ –∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</span>
      </div>
    </div>
    <div class="theme-switcher">
      <label for="theme-select">–¢–µ–º–∞</label>
      <select id="theme-select">
        <option value="lifestyle">Lifestyle</option>
        <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
        <option value="dark">–¢—ë–º–Ω–∞—è</option>
        <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
        <option value="cream">–°–ª–∏–≤–æ—á–Ω–∞—è</option>
      </select>
    </div>
    <button class="menu-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚ò∞</button>
    <nav class="nav-links open">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="products.html">–¢–æ–≤–∞—Ä—ã</a>
      <a href="masterclasses.html" class="active">–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</a>
      <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
      <a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </nav>
  </div>

  <header class="page-header">
    <div>
      <div class="title">üéì –ö—É—Ä—Å—ã WebApp</div>
      <p class="subtitle">–û–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ã MiniDeN —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –≤ —Å—Ç–∏–ª–µ –≤–∏—Ç—Ä–∏–Ω—ã. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ ¬´–í –∫–æ—Ä–∑–∏–Ω—É¬ª, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –¥–µ–º–æ-–ø–æ–ø–∞–ø.</p>
    </div>
    <div class="badge">WebApp</div>
  </header>

  <div class="tags">
    <span class="tag">–í–∏–¥–µ–æ—É—Ä–æ–∫–∏</span>
    <span class="tag">PDF-–∫–æ–Ω—Å–ø–µ–∫—Ç—ã</span>
    <span class="tag">–ß–∞—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏</span>
  </div>

  <div class="cards" id="cards"></div>

  <script src="js/app.js?v=20251218"></script>
  <script>
    const toggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.nav-links');
    toggle?.addEventListener('click', () => nav?.classList.toggle('open'));

      const tg = window.Telegram?.WebApp;
      const BOT_LINK = "https://t.me/BotMiniden_bot";
      const CHANNEL_LINK = "https://t.me/petelka_za_petelko";
      const INSTAGRAM_LINK = "https://www.instagram.com/balabanova_knit?igsh=MWhuMWFnOG8zejl6dQ==";
      const VK_LINK = "https://vk.com/club233836469";

    const courses = [
      {
        id: 1,
        title: "–ü—Ä—è–Ω–∏–∫–∏ —Å –Ω—É–ª—è",
        price: "1 200 ‚ÇΩ",
        status: "–°—Ç–∞—Ä—Ç ‚Äî —Å–µ–≥–æ–¥–Ω—è",
        description: "–ë—ã—Å—Ç—Ä—ã–π –±–∞–∑–æ–≤—ã–π –∫—É—Ä—Å –ø–æ —É–∫—Ä–∞—à–µ–Ω–∏—é –ø—Ä—è–Ω–∏–∫–æ–≤ –≥–ª–∞–∑—É—Ä—å—é –±–µ–∑ —Å–ª–æ–∂–Ω–æ–≥–æ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è.",
        meta: "4 —É—Ä–æ–∫–∞ ‚Ä¢ PDF + –≤–∏–¥–µ–æ",
        image: "https://images.unsplash.com/photo-1504753793650-d4a2b783c15e?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 2,
        title: "–ú–∏–Ω–∏-–∫–æ–Ω–¥–∏—Ç–µ—Ä",
        price: "1 990 ‚ÇΩ",
        status: "–°–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ",
        description: "–£—á–∏–º—Å—è –≤—ã–ø–µ–∫–∞—Ç—å –≤–æ–∑–¥—É—à–Ω—ã–µ –∫–∞–ø–∫–µ–π–∫–∏, –≥–æ—Ç–æ–≤–∏—Ç—å –∫—Ä–µ–º –∏ —Å–æ–±–∏—Ä–∞—Ç—å –Ω–∞–±–æ—Ä—ã –¥–ª—è –ø–æ–¥–∞—Ä–∫–æ–≤.",
        meta: "6 —É—Ä–æ–∫–æ–≤ ‚Ä¢ —á–∞—Ç —Å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º",
        image: "https://images.unsplash.com/photo-1481391032119-d89fee407e44?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 3,
        title: "–°—ä—ë–º–∫–∞ –¥–ª—è –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤",
        price: "1 590 ‚ÇΩ",
        status: "–ù–æ–≤—ã–π –ø–æ—Ç–æ–∫",
        description: "–ö–∞–∫ —Å—Ç–∞–≤–∏—Ç—å —Å–≤–µ—Ç, —Å–æ–±—Ä–∞—Ç—å –º–∏–Ω–∏-—Å—Ç—É–¥–∏—é –¥–æ–º–∞ –∏ —Å–Ω–∏–º–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤.",
        meta: "3 —É—Ä–æ–∫–∞ ‚Ä¢ —á–µ–∫-–ª–∏—Å—Ç—ã",
        image: "https://images.unsplash.com/photo-1452251889946-8ff5ea7b27ab?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 4,
        title: "–ë–∞–∑–æ–≤–∞—è —É–ø–∞–∫–æ–≤–∫–∞",
        price: "–ë–µ—Å–ø–ª–∞—Ç–Ω–æ",
        status: "–î–µ–º–æ",
        description: "–ü—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫ –ø–æ —Å–±–æ—Ä–∫–µ –ø–æ–¥–∞—Ä–æ—á–Ω–æ–π –∫–æ—Ä–æ–±–∫–∏: –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ª–µ–Ω—Ç—ã, –ª–∞–π—Ñ—Ö–∞–∫–∏.",
        meta: "1 —É—Ä–æ–∫ ‚Ä¢ –±–æ–Ω—É—Å-–ø–ª–µ–π–ª–∏—Å—Ç",
        image: "https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=900&q=80",
      },
    ];

    function renderCards(list) {
      const wrapper = document.getElementById("cards");
      wrapper.innerHTML = "";

      list.forEach((item) => {
        const card = document.createElement("article");
        card.className = "card";

        const cover = document.createElement("div");
        cover.className = "cover";

        if (item.image) {
          const img = document.createElement("img");
          img.src = item.image;
          img.alt = item.title;
          cover.appendChild(img);
        }

        if (item.status) {
          const status = document.createElement("span");
          status.className = "status";
          status.textContent = item.status;
          cover.appendChild(status);
        }

        const name = document.createElement("h3");
        name.textContent = item.title;

        const meta = document.createElement("div");
        meta.className = "meta";
        meta.innerHTML = `<span class="dot"></span>${item.meta}`;

        const desc = document.createElement("p");
        desc.className = "description";
        desc.textContent = item.description;

        const footer = document.createElement("div");
        footer.className = "footer";

        const price = document.createElement("div");
        price.className = "price";
        price.textContent = item.price;

        const btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = "–í –∫–æ—Ä–∑–∏–Ω—É";
        btn.addEventListener("click", () => handleAdd(item));

        footer.append(price, btn);
        card.append(cover, name, meta, desc, footer);
        wrapper.appendChild(card);
      });
    }

    function handleAdd(item) {
      if (tg?.sendData) {
        tg.sendData(
          JSON.stringify({
            action: "add_to_cart",
            source: "courses",
            product_id: item.id,
          })
        );
      }

      if (tg?.showPopup) {
        tg.showPopup({
          title: "–ö—É—Ä—Å –≤ –∫–æ—Ä–∑–∏–Ω–µ",
          message: `¬´${item.title}¬ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É. –î–µ–º–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ –∏–∑ –±–æ—Ç–∞.`,
          buttons: [{ id: "ok", type: "close", text: "–û—Ç–ª–∏—á–Ω–æ" }],
        });
      } else {
        alert(`${item.title} –¥–æ–±–∞–≤–ª–µ–Ω (–¥–µ–º–æ).`);
      }
    }

    if (tg) {
      tg.expand();
      tg.MainButton.hide();
      }

      async function initPage() {
        renderCards(courses);
      }

    initPage();
  </script>
</body>
</html>
