<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>MiniDeN ‚Äî –ö–æ—Ä–∑–∏–Ω–∫–∏</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="icon" id="site-favicon" href="/favicon.ico" />
  <link rel="stylesheet" href="css/theme.css?v=20251218" />
  <style>
    :root {
      color-scheme: light;
      --bg: var(--color-bg);
      --card: var(--surface-primary);
      --text: var(--color-text-main);
      --muted: var(--color-text-muted);
      --accent: var(--color-accent-primary);
      --accent-2: var(--color-accent-secondary);
      --shadow: var(--shadow-strong);
      --nav: var(--nav-surface);
      --border: var(--color-border-subtle);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: "Inter", system-ui, -apple-system, sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      padding: 0 18px 32px;
    }

    .top-nav { position: sticky; top: 0; z-index: 20; background: var(--nav); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 14px 12px; margin: 0 -18px 16px; gap: 12px; }
    .brand { display: flex; flex-direction: column; gap: 2px; font-weight: 800; letter-spacing: -0.02em; }
    .brand span { color: var(--muted); font-size: 13px; font-weight: 600; letter-spacing: normal; }
    .nav-links { display: flex; gap: 12px; align-items: center; }
    .nav-links a { color: var(--muted); text-decoration: none; font-weight: 600; padding: 10px 12px; border-radius: 12px; transition: background 0.15s ease, color 0.15s ease; }
    .nav-links a:hover { color: var(--text); background: rgba(255, 255, 255, 0.06); }
    .nav-links a.active { color: var(--text); background: linear-gradient(135deg, rgba(255, 184, 0, 0.18), rgba(123, 216, 255, 0.14)); }
    .menu-toggle { display: none; background: transparent; border: 1px solid rgba(255, 255, 255, 0.12); color: var(--text); border-radius: 12px; padding: 10px 12px; cursor: pointer; }

    header.page-header { display: flex; align-items: center; justify-content: space-between; gap: 14px; margin-bottom: 12px; }

    .title { font-size: 22px; font-weight: 700; letter-spacing: -0.02em; display: flex; align-items: center; gap: 10px; }

    .chip { padding: 8px 12px; border-radius: 12px; background: linear-gradient(135deg, rgba(255, 184, 0, 0.2), rgba(255, 184, 0, 0.05)); color: #ffdf80; font-weight: 600; font-size: 14px; }

    .subtitle { margin: 0; color: var(--muted); font-size: 14px; line-height: 1.5; }

    .cards { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 14px; margin-top: 12px; }

    .card { background: var(--card); border: 1px solid rgba(255, 255, 255, 0.06); border-radius: 16px; padding: 14px; box-shadow: var(--shadow); display: flex; flex-direction: column; gap: 12px; backdrop-filter: blur(6px); }

    .cover { position: relative; overflow: hidden; border-radius: 12px; height: 160px; background: linear-gradient(135deg, rgba(255, 184, 0, 0.16), rgba(123, 216, 255, 0.16)); display: grid; place-items: center; }

    .cover img { width: 100%; height: 100%; object-fit: cover; filter: saturate(1.05); }

    .badge { position: absolute; top: 10px; left: 10px; background: rgba(0, 0, 0, 0.55); color: #fff; font-weight: 700; padding: 6px 10px; border-radius: 10px; letter-spacing: 0.01em; font-size: 13px; }

    .card h3 { margin: 0; font-size: 18px; letter-spacing: -0.01em; }

    .description { color: var(--muted); font-size: 14px; line-height: 1.5; margin: 0; flex: 1; }

    .footer { display: flex; align-items: center; justify-content: space-between; gap: 10px; }

    .price { font-size: 17px; font-weight: 700; color: #ffdf80; }

    button { cursor: pointer; border: none; border-radius: 12px; padding: 12px 14px; background: linear-gradient(135deg, #ffb800, #ff8f3f); color: #0b0c10; font-weight: 700; font-size: 15px; width: 100%; box-shadow: 0 10px 30px rgba(255, 184, 0, 0.25); transition: transform 0.1s ease, box-shadow 0.1s ease; }

    button:hover { transform: translateY(-1px); box-shadow: 0 12px 32px rgba(255, 184, 0, 0.35); }

    .pill-row { display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 14px; }

    .pill { padding: 8px 12px; border-radius: 999px; background: rgba(255, 255, 255, 0.06); color: var(--muted); font-size: 13px; border: 1px solid rgba(255, 255, 255, 0.08); }

    @media (max-width: 780px) {
      .nav-links { display: none; }
      .nav-links.open { display: flex; flex-direction: column; align-items: flex-start; width: 100%; margin-top: 10px; }
      .top-nav { flex-wrap: wrap; }
      .menu-toggle { display: inline-flex; }
    }
  </style>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body data-theme="lifestyle">
  <div class="top-nav">
    <div class="brand" data-branding-block>
      <div class="brand__logo-wrapper">
        <img data-branding-logo class="brand__logo" alt="–õ–æ–≥–æ—Ç–∏–ø MiniDeN" />
      </div>
      <div class="brand__text">
        <div class="brand__title" data-branding-title data-branding-default="MiniDeN">MiniDeN</div>
        <span data-branding-tagline>—É—é—Ç–Ω—ã–µ –∫–æ—Ä–∑–∏–Ω–∫–∏ –∏ –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</span>
      </div>
    </div>
    <div class="theme-switcher">
      <label for="theme-select">–¢–µ–º–∞</label>
      <select id="theme-select">
        <option value="lifestyle">Lifestyle</option>
        <option value="purple">–§–∏–æ–ª–µ—Ç–æ–≤–∞—è</option>
        <option value="dark">–¢—ë–º–Ω–∞—è</option>
        <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
        <option value="cream">–°–ª–∏–≤–æ—á–Ω–∞—è</option>
      </select>
    </div>
    <button class="menu-toggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é">‚ò∞</button>
    <nav class="nav-links open">
      <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
      <a href="products.html" class="active">–¢–æ–≤–∞—Ä—ã</a>
      <a href="masterclasses.html">–ú–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã</a>
      <a href="cart.html">–ö–æ—Ä–∑–∏–Ω–∞</a>
      <a href="profile.html">–ü—Ä–æ—Ñ–∏–ª—å</a>
    </nav>
  </div>

  <header class="page-header">
    <div>
      <div class="title">üß∫ –ö–æ—Ä–∑–∏–Ω–∫–∏ WebApp</div>
      <p class="subtitle">–ú–∏–Ω–∏-–ª–µ–Ω–¥–∏–Ω–≥ —Å –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ –Ω–∞–±–æ—Ä–∞–º–∏. –¢–∞–ø–Ω–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É.</p>
    </div>
    <div class="chip">–î–µ–º–æ</div>
  </header>

  <div class="pill-row">
    <span class="pill">–†—É—á–Ω–∞—è —Ä–∞–±–æ—Ç–∞</span>
    <span class="pill">–ì–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã</span>
    <span class="pill">–° –∑–∞–±–æ—Ç–æ–π –æ –¥–µ—Ç–∞–ª—è—Ö</span>
  </div>

  <div class="cards" id="cards"></div>

  <script src="js/app.js?v=20251218"></script>
  <script src="js/api.js?v=20250605"></script>
  <script src="js/app_shell.js?v=20251220"></script>
  <script>
    const toggle = document.querySelector('.menu-toggle');
    const nav = document.querySelector('.nav-links');
    toggle?.addEventListener('click', () => nav?.classList.toggle('open'));

      const tg = window.Telegram?.WebApp;
      const BOT_LINK = "https://t.me/BotMiniden_bot";
      const CHANNEL_LINK = "https://t.me/petelka_za_petelko";
      const INSTAGRAM_LINK = "https://www.instagram.com/balabanova_knit?igsh=MWhuMWFnOG8zejl6dQ==";
      const VK_LINK = "https://vk.com/club233836469";

    const baskets = [
      {
        id: 1,
        title: "–£—Ç—Ä–µ–Ω–Ω–∏–π –ø–ª–µ–¥",
        price: "2 100 ‚ÇΩ",
        badge: "–•–∏—Ç",
        description: "–ü–ª–µ–¥, —Å–≤–µ—á–∞ –∏ –¥–æ–º–∞—à–Ω–µ–µ –ø–µ—á–µ–Ω—å–µ –≤ –∫—Ä–∞—Ñ—Ç–æ–≤–æ–π –∫–æ—Ä–∑–∏–Ω–∫–µ.",
        image: "https://images.unsplash.com/photo-1489515217757-5fd1be406fef?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 2,
        title: "–ß–∞–π–Ω—ã–π –≤–µ—á–µ—Ä",
        price: "1 790 ‚ÇΩ",
        badge: "–ù–æ–≤–∏–Ω–∫–∞",
        description: "–ß–∞–π —É–ª—É–Ω, –≤–∞—Ä–µ–Ω—å–µ –∏–∑ —Å–æ—Å–Ω–æ–≤—ã—Ö —à–∏—à–µ–∫ –∏ –º–∏–Ω–¥–∞–ª—å–Ω–æ–µ –ø–µ—á–µ–Ω—å–µ.",
        image: "https://images.unsplash.com/photo-1452251889946-8ff5ea7b27ab?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 3,
        title: "–°–ø–∞-–¥–µ–Ω—å",
        price: "2 490 ‚ÇΩ",
        badge: "Relax",
        description: "–ê—Ä–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤–µ—á–∞, –±–æ–º–±–æ—á–∫–∏ –¥–ª—è –≤–∞–Ω–Ω—ã –∏ –º—è–≥–∫–æ–µ –ø–æ–ª–æ—Ç–µ–Ω—Ü–µ.",
        image: "https://images.unsplash.com/photo-1506617420156-8e4536971650?auto=format&fit=crop&w=900&q=80",
      },
      {
        id: 4,
        title: "–°—ã—Ä–Ω–∞—è —Ä–∞–¥–æ—Å—Ç—å",
        price: "2 900 ‚ÇΩ",
        badge: "–ì–∞—Å—Ç—Ä–æ",
        description: "–ü–∞—Ä–º–µ–∑–∞–Ω, –∫–∞–º–∞–º–±–µ—Ä, –≥—Ä–µ—Ü–∫–∏–µ –æ—Ä–µ—Ö–∏ –∏ —Å–æ—É—Å –ø–µ—Å—Ç–æ –≤ –∫–æ—Ä–∑–∏–Ω–∫–µ.",
        image: "https://images.unsplash.com/photo-1481391032119-d89fee407e44?auto=format&fit=crop&w=900&q=80",
      },
    ];

    function renderCards(list) {
      const wrapper = document.getElementById("cards");
      wrapper.innerHTML = "";

      list.forEach((item) => {
        const card = document.createElement("article");
        card.className = "card";

        const cover = document.createElement("div");
        cover.className = "cover";

        if (item.image) {
          const img = document.createElement("img");
          img.src = item.image;
          img.alt = item.title;
          cover.appendChild(img);
        }

        if (item.badge) {
          const badge = document.createElement("span");
          badge.className = "badge";
          badge.textContent = item.badge;
          cover.appendChild(badge);
        }

        const name = document.createElement("h3");
        name.textContent = item.title;

        const desc = document.createElement("p");
        desc.className = "description";
        desc.textContent = item.description;

        const footer = document.createElement("div");
        footer.className = "footer";

        const price = document.createElement("div");
        price.className = "price";
        price.textContent = item.price;

        const btn = document.createElement("button");
        btn.type = "button";
        btn.textContent = "–í –∫–æ—Ä–∑–∏–Ω—É";
        btn.addEventListener("click", () => handleAdd(item));

        footer.append(price, btn);
        card.append(cover, name, desc, footer);
        wrapper.appendChild(card);
      });
    }

    function handleAdd(item) {
      if (tg?.sendData) {
        tg.sendData(
          JSON.stringify({
            action: "add_to_cart",
            source: "baskets",
            product_id: item.id,
          })
        );
      }

      if (tg?.showPopup) {
        tg.showPopup({
          title: "–í –∫–æ—Ä–∑–∏–Ω—É",
          message: `¬´${item.title}¬ª –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É. –≠—Ç–æ –¥–µ–º–æ, –Ω–æ –∫–Ω–æ–ø–∫–∞ –≤ –±–æ—Ç–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–∞–∫ –∂–µ!`,
          buttons: [{ id: "ok", type: "close", text: "–ü–æ–Ω—è—Ç–Ω–æ" }],
        });
      } else {
        alert(`${item.title} –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É (–¥–µ–º–æ).`);
      }
    }

      if (tg) {
        tg.expand();
        tg.MainButton.hide();
      }

      async function initPage() {
        renderCards(baskets);
      }

    initPage();
  </script>
</body>
</html>