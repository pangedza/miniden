# AdminSite конструктор главной

- **Сохранение**: `/api/adminsite/pages/home` (таблица `adminsite_pages`, slug `home`). Данные пишутся с учётом `templateId` и массива `blocks`, теперь дополнительно возвращается `version/updatedAt` и `slug`.
- **Чтение витрины**: `/api/site/home` (публичный endpoint, который отдаёт тот же конфиг `page` + категории/подборки). В конструкторе после сохранения выполняется round-trip запрос к этому endpoint с cache-bust.
- **Причина расхождения**: ранее статус «Сохранено» ставился сразу после PUT без проверки публичного ответа, из-за чего можно было получить «применено», когда витрина ещё отдаёт старые данные. Теперь успех показывается только после проверки публичного ответа и совпадения конфигурации.
- **Диагностика в UI**: блок «Диагностика» в конструкторе отображает источник, публичный endpoint, page key (`home`), версию/updatedAt и результат последнего сохранения/публичной проверки.
